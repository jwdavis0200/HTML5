<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles/contact.css">
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
    <script>
        (function () {
           emailjs.init("Rn1x6OQnd99I8w_IF");
        })();
    </script>
</head>
<body>
    <title>Get in touch!</title>
    <section id="header-container">
        <h1>
            Let's get in touch!
        </h1>
    </section>
    <section id="mailbox-container">
        <div>
            <label for="from"><h3>Your e-mail</h3></label>
            <input type="text" name="from" placeholder="Your e-mail here!" required>
        </div>
        <div>
            <label for="subject"><h3>Subject</h3></label>
            <input type="text" name="subject" placeholder="What about?" required>
        </div>
        <div>
            <label for="content"><h3>Content</h3></label><br>
            <textarea type="text" name="content" placeholder="What would you like to talk about?" style="height: 300px;width: 300px" required></textarea>
        </div>
        <div>
            <button id="send-button">Send!</button>
            <script>
                function sendEmail(buttonElement, e) {
                    e.preventDefault();
                    document.getElementById('send-button').classList.add('clicked-button');
                    const fromEmail = document.querySelector('input[name="from"]').value;
                    const subject = document.querySelector('input[name="subject"]').value;
                    const content = document.querySelector('textarea[name="content"]').value;
                    
                    const params = {
                        from_email: fromEmail,
                        to_email: 'jwdavis0200@gmail.com',
                        subject: subject,
                        body: content
                    };
                
                    emailjs.send('service_ebnwei8', 'template_4tx1sij', params)
                        .then(function(response) {
                        alert('Email sent successfully!');
                        })
                        .catch(function(error) {
                        alert('Failed to send email: ' + error);
                        });
                }
              
                const submitButton = document.querySelector('#send-button');
                submitButton.addEventListener('click', function (e) {
                    sendEmail(submitButton, e)
                });
              </script>
        </div>
    </section>
    <section id="social-container">
        <href></href>
    </section>

</body>
</html>